{"id":"geo-0pr","title":"Convert auto-GCP to standalone WebODM marketplace plugin","description":"Currently the plugin lives in webodm/coreplugins/auto_gcp/ — embedded in our WebODM fork. This makes it unusable by anyone else.\n\nDesign notes and full recommendation: docs/webodm_marketplace_plugin.md\n\nSummary of work:\n1. Create a new standalone repo (e.g. webodm-plugin-auto-gcp)\n2. Move plugin.py, manifest.json, api_views.py, pipeline.py, public/, requirements.txt into it\n3. Update requirements.txt to list scipy (and numpy) — WebODM auto-runs pip install -r requirements.txt on plugin install\n4. Add exiftool health check: plugin.py startup check via shutil.which('exiftool'); disable button + show tooltip if missing\n5. Add health check API endpoint GET /api/plugins/auto_gcp/health returning JSON status of all dependencies\n6. TaskView.jsx: call health endpoint on mount, show disabled button with tooltip if deps missing\n7. Update manifest.json with proper metadata\n8. Write README with Docker extension instructions for exiftool\n9. Test install via media/plugins/ drop-in and via WebODM plugin manager\n10. (Optional) Submit to WebODM plugins registry\n\nRepo recommendation: YES separate repo. See docs/webodm_marketplace_plugin.md for rationale and pipeline sync strategy options.\n\nPipeline sync: keep a copy in the plugin repo for now (option 2 in the doc). Long-term: publish geo pipeline as a pip package.","notes":"See docs/webodm_marketplace_plugin.md for full design. Separate repo is the right answer.","status":"open","priority":2,"issue_type":"feature","owner":"jrstear@fcbhmail.org","created_at":"2026-02-26T07:54:35.30663-07:00","created_by":"Jon Stearley","updated_at":"2026-02-26T07:54:35.30663-07:00","dependencies":[{"issue_id":"geo-0pr","depends_on_id":"geo-42a","type":"blocks","created_at":"2026-02-26T14:45:40.144704-07:00","created_by":"Jon Stearley"}]}
{"id":"geo-0zx","title":"Crosshair style: use crosshair.png in sub-images, black=unconfirmed green=confirmed","description":"Two inconsistencies to fix:\n\n1. SUB-IMAGE CANVAS USES + LINES, LARGE IMAGE USES crosshair.png\nSub-image crop component draws canvas lines (+ shape). Large image uses crosshair.png overlay.\nFix: load crosshair.png at module level (const _crosshairImg = new Image(); _crosshairImg.src = 'assets/crosshair.png').\nIn _draw(): draw the PNG with ctx.filter for color, centered at GCP pixel position (px-16, py-16) since crosshair is 32x32.\nFilter: confirmed = 'hue-rotate(100deg) saturate(3) brightness(1.2)' (green), else 'brightness(0)' (black).\n\n2. COLOR CONVENTION\nCurrent: yellow=unconfirmed estimate, green=confirmed.\nNew: black=unconfirmed/estimated, green=confirmed (manually placed).\nThe yellow convention is harder to see and less intuitive than black.\n\nChanges needed:\n- smartimage.component.html: filter ternary from '...green...' : 'none' to '...green...' : 'brightness(0)'\n- smartimage.component.ts: default pinColor = 'black' (was 'yellow')\n- images-tagger.component.html: update [pinColor] bindings to use 'black' for unconfirmed in both standard and zoom views\n- sub-image-crop.component.ts: replace canvas line drawing with crosshair.png draw + ctx.filter\n\nFiles: smartimage.component.html, smartimage.component.ts, sub-image-crop.component.ts, images-tagger.component.html","notes":"crosshair.png is 32x32, lives at assets/crosshair.png. ctx.filter works in Chromium (Electron). Black=unconfirmed is more legible than yellow.","status":"closed","priority":2,"issue_type":"feature","owner":"jrstear@fcbhmail.org","created_at":"2026-02-26T09:45:19.392262-07:00","created_by":"Jon Stearley","updated_at":"2026-02-26T14:25:58.640592-07:00","closed_at":"2026-02-26T14:25:58.640592-07:00","close_reason":"Implemented: crosshair.png drawn in sub-image canvas. Final direction: no color filter on crosshair in any view — unmodified icon everywhere. Border colors on sub-image crops continue to indicate confirmed/estimated/untagged state."}
{"id":"geo-1eb","title":"GCPEditorPro: allow disassociating an image from a GCP","description":"The standard grid view already has an X button next to each image name that removes the image from the GCP's associated list (or untags the GCP from that image if the image has other GCPs). The zoom view sub-image column lacks this.\n\nCHANGE REQUIRED:\nAdd an X button to each sub-image entry in the zoom view crop column, matching the behavior of the standard view X button. When clicked, it should call the same remove(desc) method already used by the standard view.\n\nIMPLEMENTATION:\nIn images-tagger.component.html, inside the zoom view crop column (*ngFor loop over images), add an X/close element overlaid on or adjacent to each app-sub-image-crop entry. Style to match the standard view badge close button. Wire to (click)='remove(desc)' with $event.stopPropagation() to prevent hover-select from interfering.\n\nReference the standard view implementation (lines ~106-108 in images-tagger.component.html) for the button markup and behavior.","status":"open","priority":1,"issue_type":"feature","owner":"jrstear@fcbhmail.org","created_at":"2026-02-26T14:24:38.846701-07:00","created_by":"Jon Stearley","updated_at":"2026-02-26T14:51:32.828705-07:00"}
{"id":"geo-1u8","title":"Pre-populate image list and estimated pixels in GCPEditorPro from .estimates.json","description":"In ~/git/GCPEditorPro/src/app/load-config-txt/. After loading .txt file, check for .estimates.json sidecar (same name, .estimates.json ext). If found: (1) inject imageGcps with estimated px/py per GCP+image, (2) pre-add image filenames to storage.images list, (3) set confirmed=false per imageGcp (for G3 integration). Requires R2 findings. See docs/gcpeditorpro_ui_spec.md for sidecar format.","status":"closed","priority":2,"issue_type":"feature","owner":"jrstear@fcbhmail.org","created_at":"2026-02-25T11:30:54.520355-07:00","created_by":"Jon Stearley","updated_at":"2026-02-25T15:20:36.74469-07:00","closed_at":"2026-02-25T15:20:36.74469-07:00","close_reason":"GCPEditorPro load-config-txt: optional estimates sidecar file input; estimatesSelected() parses JSON; next() merges estimates into imageGcps before navigation.","labels":["gcp","gcpeditorpro"],"dependencies":[{"issue_id":"geo-1u8","depends_on_id":"geo-2j8.2","type":"blocks","created_at":"2026-02-25T11:31:51.58589-07:00","created_by":"Jon Stearley"},{"issue_id":"geo-1u8","depends_on_id":"geo-3jl","type":"blocks","created_at":"2026-02-25T11:31:51.711463-07:00","created_by":"Jon Stearley"}]}
{"id":"geo-2j8","title":"GCP Auto-Identification Pipeline","description":"Automated pipeline: Emlid CSV + drone images → gcpeditpro.txt for GCPEditorPro refinement, plus GCPEditorPro UI enhancements and server-side auto-detector. See docs/gcp_pipeline_overview.md. Branches: feature/auto-gcp-pipeline in ~/git/webodm and ~/git/GCPEditorPro. Replaces gcp.py entirely.","status":"open","priority":1,"issue_type":"epic","owner":"jrstear@fcbhmail.org","created_at":"2026-02-25T11:30:30.917424-07:00","created_by":"Jon Stearley","updated_at":"2026-02-25T11:30:30.917424-07:00","labels":["gcp"]}
{"id":"geo-2j8.1","title":"Research WebODM plugin API for GCP auto-pipeline","description":"Explore coreplugins/cesiumion/ and coreplugins/cloudimport/ patterns. Determine: (1) how addTaskActionButton works (load_buttons.js template), (2) how to access task output dir server-side from api_views.py — find task.get_task_folder() or equivalent in app/models/task.py, (3) whether long-running plugin actions use Celery (see app/worker.py), (4) how existing GCP file upload works. Record findings in docs/webodm_plugin_spec.md.","status":"closed","priority":1,"issue_type":"task","owner":"jrstear@fcbhmail.org","created_at":"2026-02-25T11:30:31.078135-07:00","created_by":"Jon Stearley","updated_at":"2026-02-25T15:20:27.769075-07:00","closed_at":"2026-02-25T15:20:27.769075-07:00","close_reason":"Research complete. Findings documented in docs/webodm_plugin_spec.md: task.task_path(), task.assets_path(), run_function_async(), addTaskActionButton pattern. Plugin implemented in geo-39v.","labels":["gcp","research"],"dependencies":[{"issue_id":"geo-2j8.1","depends_on_id":"geo-2j8","type":"parent-child","created_at":"2026-02-25T11:30:31.079331-07:00","created_by":"Jon Stearley"}]}
{"id":"geo-2j8.2","title":"Research GCPEditorPro storage model and .estimates.json import path","description":"Explore ~/git/GCPEditorPro/src/app/. Key files: storage.service.ts, gcps-utils.service.ts (GCP/ImageGcp types), load-config-txt/ (how .txt is parsed), images-tagger.component.ts, smartimage.component.ts. Answer: (1) how to inject pre-populated imageGcps with estimated pixels, (2) is imX/imY==0 the not-tagged sentinel?, (3) is pin color configurable in SmartimageComponent?, (4) how to read/write sidecar files in Electron vs web mode. Record in docs/gcpeditorpro_ui_spec.md.","status":"closed","priority":1,"issue_type":"task","owner":"jrstear@fcbhmail.org","created_at":"2026-02-25T11:30:31.23865-07:00","created_by":"Jon Stearley","updated_at":"2026-02-25T15:20:27.87349-07:00","closed_at":"2026-02-25T15:20:27.87349-07:00","close_reason":"Research complete. Findings in docs/gcpeditorpro_ui_spec.md: ImageGcp.confirmed added, SmartimageComponent pinColor @Input(), injection point at load-config-txt.component.ts next(), Electron IPC vs FileReader for sidecar.","labels":["gcp","research"],"dependencies":[{"issue_id":"geo-2j8.2","depends_on_id":"geo-2j8","type":"parent-child","created_at":"2026-02-25T11:30:31.241166-07:00","created_by":"Jon Stearley"}]}
{"id":"geo-2j8.3","title":"Validate EXIF pinhole projection math and research reconstruction.json format","description":"Using ~/stratus/ghostrider/raw/ and emlid.csv vs gcpeditpro.txt as ground truth: (1) Implement and test Mode A EXIF pixel projection per docs/dji_m3e_camera_model.md — measure pixel error, (2) Research opensfm/reconstruction.json format from a ghostrider ODM task: coordinate system, rotation convention, world-to-local transform (check reference_lla.json), distortion model, (3) Document both in docs/dji_m3e_camera_model.md.","status":"closed","priority":1,"issue_type":"task","owner":"jrstear@fcbhmail.org","created_at":"2026-02-25T11:30:31.396873-07:00","created_by":"Jon Stearley","updated_at":"2026-02-25T11:58:55.260468-07:00","closed_at":"2026-02-25T11:58:55.260468-07:00","close_reason":"Mode A validated (73.6px mean error on 8 ground-truth images). Height system confirmed: AbsoluteAltitude + Emlid ellipsoidal height. GimbalRoll convention documented. Mode B format fully documented from OpenSfM source. See docs/dji_m3e_camera_model.md.","labels":["gcp","research"],"dependencies":[{"issue_id":"geo-2j8.3","depends_on_id":"geo-2j8","type":"parent-child","created_at":"2026-02-25T11:30:31.397629-07:00","created_by":"Jon Stearley"}]}
{"id":"geo-2j8.4","title":"Validate Mode B (reconstruction.json) pixel projection accuracy","description":"Once a ghostrider ODM task output exists with opensfm/reconstruction.json: implement project_mode_b() from docs/dji_m3e_camera_model.md, project the 8 ground-truth images from ~/stratus/ghostrider/gcpeditpro.txt, measure mean/max pixel error vs Mode A (73.6px mean), update the accuracy table in docs/dji_m3e_camera_model.md. Test script: ~/git/geo/test_projection.py. Depends on having a completed WebODM task for the ghostrider dataset.","status":"open","priority":2,"issue_type":"task","owner":"jrstear@fcbhmail.org","created_at":"2026-02-25T11:59:10.138709-07:00","created_by":"Jon Stearley","updated_at":"2026-02-25T11:59:10.138709-07:00","labels":["gcp","research"],"dependencies":[{"issue_id":"geo-2j8.4","depends_on_id":"geo-2j8","type":"parent-child","created_at":"2026-02-25T11:59:10.139562-07:00","created_by":"Jon Stearley"}]}
{"id":"geo-39v","title":"Implement WebODM auto-GCP plugin","description":"In ~/git/webodm/coreplugins/auto-gcp/. Pattern: follow cesiumion plugin. Files: plugin.py (build_jsx_components, include_js_files, api_mount_points), templates/load_buttons.js (addTaskActionButton call), public/TaskView.jsx (Generate GCP Estimates button + modal: CSV upload + use-reconstruction checkbox + progress), api_views.py (POST /task/\u003cid\u003e/generate: finds reconstruction.json if available, calls pipeline, returns download URLs), pipeline.py (wraps geo/gcp_pipeline.py), requirements.txt. See docs/webodm_plugin_spec.md.","status":"closed","priority":2,"issue_type":"feature","owner":"jrstear@fcbhmail.org","created_at":"2026-02-25T11:30:54.349912-07:00","created_by":"Jon Stearley","updated_at":"2026-02-25T15:20:36.621696-07:00","closed_at":"2026-02-25T15:20:36.621696-07:00","close_reason":"WebODM auto-gcp plugin created in ~/git/webodm/coreplugins/auto-gcp/ on branch feature/auto-gcp-pipeline. Includes plugin.py, api_views.py, app_views.py, pipeline.py (wraps gcp_pipeline.py), TaskView.jsx modal, load_buttons.js.","labels":["gcp","webodm"],"dependencies":[{"issue_id":"geo-39v","depends_on_id":"geo-3jl","type":"blocks","created_at":"2026-02-25T11:31:50.137951-07:00","created_by":"Jon Stearley"},{"issue_id":"geo-39v","depends_on_id":"geo-2j8.1","type":"blocks","created_at":"2026-02-25T11:31:50.265519-07:00","created_by":"Jon Stearley"}]}
{"id":"geo-3jl","title":"Implement parallel pipeline runner and output file writer","description":"In geo/gcp_pipeline.py. Combines B1+B2: run_pipeline(images_dir, emlid_csv, output_dir, reconstruction_path=None) entry point. Write gcpeditpro.txt: proj4 header from Emlid CS name + one line per (image,GCP): 'easting northing elev px py filename gcplabel'. Write gcpeditpro.estimates.json sidecar: {gcpLabel: {filename: {px, py, mode}}}. Add CLI entry point. This is the final replacement for gcp.py.","status":"closed","priority":2,"issue_type":"task","owner":"jrstear@fcbhmail.org","created_at":"2026-02-25T11:30:42.537604-07:00","created_by":"Jon Stearley","updated_at":"2026-02-25T15:10:01.839591-07:00","closed_at":"2026-02-25T15:10:01.839591-07:00","close_reason":"B3 implemented: run_pipeline(), _write_gcpeditpro(), _write_estimates_json(). Full pipeline tested on ghostrider dataset, writes gcpeditpro.txt + gcpeditpro.estimates.json.","labels":["gcp"],"dependencies":[{"issue_id":"geo-3jl","depends_on_id":"geo-ag6","type":"blocks","created_at":"2026-02-25T11:31:46.249137-07:00","created_by":"Jon Stearley"},{"issue_id":"geo-3jl","depends_on_id":"geo-de0","type":"blocks","created_at":"2026-02-25T11:31:46.373547-07:00","created_by":"Jon Stearley"}]}
{"id":"geo-3ki","title":"Arrow key zoom in/out for hovered image in images-tagger","description":"In images-tagger, the user wants Up/Down arrow keys to zoom in/out the image currently under the mouse cursor. Convention: Up = zoom in (toward subject), Down = zoom out.\n\nCONTEXT:\n- SmartimageComponent uses @panzoom/panzoom library (already present)\n- panzoom instance is at this.panzoom in smartimage.component.ts\n- panzoom.zoomIn() / panzoom.zoomOut() advance by configured step (currently 0.7)\n- Browser key-repeat fires at OS repeat rate when key is held — no custom debounce needed\n- Single click to place/move GCP pin must NOT change (line 95-106 in smartimage.component.ts, 250ms debounce from panzoom events)\n- Arrow key zoom is completely independent from click behavior — no conflict\n\nIMPLEMENTATION:\nIn smartimage.component.ts:\n1. Add a private isHovered: boolean = false flag\n2. On 'mouseenter' event on the container: set isHovered = true\n   (container = this.img.nativeElement.parentElement, same element mouseleave already listens on line 122)\n3. On 'mouseleave': set isHovered = false (already handled, just add the flag)\n4. Add @HostListener('document:keydown', ['']) onKeyDown(e: KeyboardEvent):\n   - If !isHovered: return (ignore — not this instance's image)\n   - If e.key === 'ArrowUp': e.preventDefault(); this.panzoom.zoomIn();\n   - If e.key === 'ArrowDown': e.preventDefault(); this.panzoom.zoomOut();\n   (preventDefault stops page scrolling on arrow keys)\n\nAPPLIES TO:\n- Standard grid view: multiple smartimage instances visible; only hovered one responds\n- Zoom view right panel: same smartimage component, same logic\n\nDOES NOT CHANGE:\n- Click behavior (single click places/moves GCP pin — central action of the app)\n- Shift+wheel zoom (keep as-is)\n- Any other keyboard shortcuts","notes":"panzoom already has zoomIn()/zoomOut(). Just need hover tracking + keydown listener. Do not touch click/pin behavior.","status":"closed","priority":2,"issue_type":"feature","owner":"jrstear@fcbhmail.org","created_at":"2026-02-26T09:15:03.909276-07:00","created_by":"Jon Stearley","updated_at":"2026-02-26T14:37:40.463216-07:00","closed_at":"2026-02-26T14:37:40.463216-07:00","close_reason":"Won't fix — shift+wheel zoom in the large panel is sufficient. Arrow key zoom not needed."}
{"id":"geo-3sd","title":"Implement pinhole camera model for im_x,y estimation","notes":"replaced by 9z5","status":"closed","priority":2,"issue_type":"task","owner":"jrstear@fcbhmail.org","created_at":"2026-02-17T03:12:36.028697-07:00","created_by":"Jon Stearley","updated_at":"2026-02-19T09:01:49.982388-07:00","closed_at":"2026-02-19T09:01:49.982392-07:00","dependencies":[{"issue_id":"geo-3sd","depends_on_id":"geo-t15","type":"blocks","created_at":"2026-02-17T03:12:36.029726-07:00","created_by":"Jon Stearley"}]}
{"id":"geo-42a","title":"WebODM download: rename gcp_estimates.* to gcpeditpro.*","description":"The WebODM plugin (api_views.py or equivalent) currently names the download files gcp_estimates.txt and gcp_estimates.json. These should be renamed to gcpeditpro.txt and gcpeditpro.json to match what gcp_pipeline.py produces and to be consistent with the pix4d.txt naming convention.\n\nFind all hardcoded references to 'gcp_estimates.txt' and 'gcp_estimates.json' in the WebODM plugin code (webodm/coreplugins/auto_gcp/) and update them to 'gcpeditpro.txt' and 'gcpeditpro.json'.","status":"open","priority":2,"issue_type":"task","owner":"jrstear@fcbhmail.org","created_at":"2026-02-26T14:42:26.655325-07:00","created_by":"Jon Stearley","updated_at":"2026-02-26T14:42:26.655325-07:00"}
{"id":"geo-465","title":"Benchmark parallelism on large dataset and evaluate scaling options","description":"The pipeline currently has two parallelism contexts:\n\n1. FOOTPRINT MATCHING (match_images_to_gcps):\n   - Uses ThreadPoolExecutor(max_workers=threads)\n   - Work is pure Python math (no I/O) — GIL limits true parallelism\n   - For N images x M GCPs: O(N*M) distance checks — trivially fast even sequentially\n   - WebODM path uses threads=1 (sequential) to avoid gunicorn deadlock\n\n2. PIXEL PROJECTION (_compute_estimates_mode_a / run_pipeline Mode B):\n   - Currently sequential loop — no parallelism at all\n   - Mode A: pure math, trivially fast, parallelism unlikely to matter\n   - Mode B: involves scipy Rotation.from_rotvec per image — more expensive, potentially worth parallelizing\n\nEXPERIMENT GOALS:\n1. Benchmark on a large dataset (100+ images, 10+ GCPs):\n   - Measure wall time for each stage (EXIF read, footprint match, pixel projection, output write)\n   - Identify which stage dominates\n   - Measure exiftool batch call time (likely I/O-bound, but exiftool itself is fast)\n\n2. Evaluate footprint match parallelism:\n   - Test threads=1 vs threads=N for N in [2,4,8,cpu_count]\n   - Is the GIL actually limiting? (footprint math is pure Python, so likely yes)\n   - If GIL-limited: consider ProcessPoolExecutor for footprint match in CLI context\n     (OK for CLI; still not OK inside gunicorn)\n\n3. Evaluate pixel projection parallelism:\n   - Profile Mode B per image: is scipy Rotation expensive enough to parallelize?\n   - If yes: add ThreadPoolExecutor to _compute_estimates_mode_b() in CLI context\n\n4. Evaluate exiftool parallelism:\n   - Currently one batch call for all images (already optimal — single exiftool invocation)\n   - No further optimization needed\n\n5. Recommend whether any parallelism improvements are worth implementing, and at\n   what dataset scale they become meaningful.\n\nCONTEXT:\n- WebODM always uses threads=1 (sequential) — do not change this\n- CLI uses threads=0 (all CPUs) by default — this is where parallelism matters\n- GIL note: ThreadPoolExecutor is fork-safe but GIL-limited for pure Python CPU work;\n  ProcessPoolExecutor gives true parallelism but risks deadlock if used inside gunicorn\n\nOutput: update this bead with findings and create follow-up beads if improvements are warranted.","notes":"Stage timing analysis first. Footprint match is O(N*M) trivial math; projection is where Mode B cost lives. CLI vs WebODM context matters.","status":"open","priority":4,"issue_type":"task","owner":"jrstear@fcbhmail.org","created_at":"2026-02-26T07:55:16.857401-07:00","created_by":"Jon Stearley","updated_at":"2026-02-26T07:55:16.857401-07:00"}
{"id":"geo-4v9","title":"Fix deprecated internal references in gcp_pipeline.py","description":"gcp_pipeline.py correctly outputs gcpeditpro.txt and gcpeditpro.json — these filenames are correct and consistent with the pix4d.txt convention (geo-vce). No filename change needed.\n\nThe only cleanup required is fixing stale internal references to the old name:\n- Rename function _write_gcpeditpro() → _write_gcp_list() or similar\n- Fix docstrings mentioning 'gcpeditpro.txt' to be generic\n- Fix variable names: gcpeditpro_txt → gcp_txt throughout run_pipeline() and callers\n- Fix --out-dir help text and run_pipeline() description strings\n\nAfter cleanup, sync gcp_pipeline.py to webodm/coreplugins/auto_gcp/pipeline.py.","status":"in_progress","priority":3,"issue_type":"task","owner":"jrstear@fcbhmail.org","created_at":"2026-02-26T07:54:47.112129-07:00","created_by":"Jon Stearley","updated_at":"2026-02-26T14:57:52.804544-07:00"}
{"id":"geo-5j1","title":"Research physical GCP target types","description":"Research other gcp target types, including prices, time cost (setup/pickup), and time savings (auto-detection). Link: https://community.opendronemap.org/t/favorite-physical-media-for-ground-control-points-gcps/23304. Note ArUco tags or apriltags options.","status":"closed","priority":3,"issue_type":"task","owner":"jrstear@fcbhmail.org","created_at":"2026-02-17T19:54:56.407128-07:00","created_by":"Jon Stearley","updated_at":"2026-02-25T21:25:35.927151-07:00","closed_at":"2026-02-25T21:25:35.927151-07:00","close_reason":"Research complete: ArUco/AprilTag 24x24 Coroplast signs recommended at 300ft flight altitude, findings documented in issue comments","labels":["gcp"],"comments":[{"id":5,"issue_id":"geo-5j1","author":"Jon Stearley","text":"GCP Sizing Researcher Findings (Flight Alt: 300'):\n- Calculated GSD: 3.38 cm/pixel (based on DJI Focal Length: 12.29mm).\n- ArUco/AprilTag Target: 24\" x 24\" (~60cm) required for reliable auto-detection (3 pixels per bit).\n- Checkerboard Target: 14\" (~35cm) is sufficient for manual tagging.\n- Cost (Set of 10): ~- for DIY 24\" Coroplast signs vs + for commercial rigid targets.\n- Recommendation: 24\" Coroplast signs with ArUco ID patterns for automated ID mapping.","created_at":"2026-02-18T03:24:04Z"}]}
{"id":"geo-7dj","title":"WebODM GUI for GCP classifier training","notes":"Add a GUI interface into WebODM for the classifier training functionality.","status":"closed","priority":3,"issue_type":"task","owner":"jrstear@fcbhmail.org","created_at":"2026-02-19T06:35:54.667687-07:00","created_by":"Jon Stearley","updated_at":"2026-02-25T11:32:04.334906-07:00","closed_at":"2026-02-25T11:32:04.334906-07:00","close_reason":"Superseded by geo-39v (W1: WebODM auto-GCP plugin)","labels":["gcp"],"dependencies":[{"issue_id":"geo-7dj","depends_on_id":"geo-kit","type":"waits-for","created_at":"2026-02-19T06:35:54.669014-07:00","created_by":"Jon Stearley","metadata":"{\"gate\":\"all-children\"}"}]}
{"id":"geo-8se","title":"Collect and organize all project data into S3","status":"open","priority":3,"issue_type":"task","owner":"jrstear@fcbhmail.org","created_at":"2026-02-19T06:22:16.189548-07:00","created_by":"Jon Stearley","updated_at":"2026-02-26T14:43:39.000989-07:00"}
{"id":"geo-9z5","title":"Implement geometric GCP ID correlation","description":"Automatically determine which GCP in the image corresponds to which GCP ID using geometry/projection. Handle multiple points in one image.","notes":"Now split across geo-ag6 (B1: footprint matching) and geo-de0 (B2: pinhole pixel projection) in epic geo-2j8. geo-9z5 can be closed once B1+B2 are complete — keep open for tracking continuity.","status":"open","priority":1,"issue_type":"task","owner":"jrstear@fcbhmail.org","created_at":"2026-02-17T19:54:56.71132-07:00","created_by":"Jon Stearley","updated_at":"2026-02-25T11:32:10.395669-07:00","labels":["gcp"]}
{"id":"geo-ag6","title":"Implement Emlid CSV parser and parallel image-GCP footprint matcher","description":"New file: geo/gcp_pipeline.py (replaces gcp.py). Part 1: (1) Parse Emlid CSV per docs/emlid_csv_format.md — filter FIX, extract label/lat/lon/easting/northing/elev from correct columns, (2) Batch exiftool EXIF read for all images (GPS, RelativeAltitude, FocalLength, FieldOfView, ImageWidth, ImageHeight, gimbal angles), (3) Parallel footprint match via multiprocessing.Pool: haversine distance from image GPS to GCP lat/lon vs radius=alt*tan(fov/2). Returns dict {image_path: [gcp_labels]}.","status":"closed","priority":1,"issue_type":"task","owner":"jrstear@fcbhmail.org","created_at":"2026-02-25T11:30:42.204135-07:00","created_by":"Jon Stearley","updated_at":"2026-02-25T15:10:01.63353-07:00","closed_at":"2026-02-25T15:10:01.63353-07:00","close_reason":"B1 implemented and validated in gcp_pipeline.py. Footprint match correctly identifies all 8 ground-truth images for GCP 1. AGL fixed to use abs_alt - mean_gcp_ellip_alt (rel_alt unreliable when takeoff site differs from GCP elevation).","labels":["gcp"]}
{"id":"geo-b2y","title":"Test GCPEditorPro","status":"closed","priority":1,"issue_type":"task","owner":"jrstear@fcbhmail.org","created_at":"2026-02-17T04:23:47.508053-07:00","created_by":"Jon Stearley","updated_at":"2026-02-19T09:07:20.627094-07:00","closed_at":"2026-02-19T09:07:20.627099-07:00","comments":[{"id":2,"issue_id":"geo-b2y","author":"Jon Stearley","text":"User test notes:\n- Supports 4-column CSV initially.\n- Failed to detect Ghostrider images (claimed none within 30m).\n- 30-day money-back guarantee available for trial.\n- Strategic alternative to WebODM Lightning.","created_at":"2026-02-17T11:23:56Z"},{"id":3,"issue_id":"geo-b2y","author":"Jon Stearley","text":"Update: GCPEditorPro is running. Manual tagging successful, but the built-in classifier failed to auto-detect the clay pigeon (yellow/orange) markers used in the Ghostrider project.","created_at":"2026-02-18T02:54:48Z"},{"id":4,"issue_id":"geo-b2y","author":"Jon Stearley","text":"Update: GCPEditorPro is running. Manual tagging successful, but the built-in classifier failed to auto-detect the clay pigeon (yellow/orange) markers used in the Ghostrider project.","created_at":"2026-02-18T02:54:56Z"},{"id":6,"issue_id":"geo-b2y","author":"Jon Stearley","text":"tested 2/18, successfully tagged 2 gcp in ghostrider and processed with webodm, see ghostrider2 project.  it is better than gcp ui in webodm.  i don't like how the images are so small, and zooming is too fast/awkward (on my macbook pro track pad, too sensitive).  what image sort options would be cognitively helpful?  eg select a gcp, images are sorted in nav order (or maybe distance from center of image, so centered is first)","created_at":"2026-02-19T16:07:09Z"}]}
{"id":"geo-bwb","title":"Create training data for GCP points","notes":"Now A1 in epic geo-2j8. Depends on geo-f2s (G3: confirmation state) to have confirmed GCPs as positive training samples. Supersedes old gcp.txt-based approach with confirmed shift-click sub-images.","status":"open","priority":4,"issue_type":"task","owner":"jrstear@fcbhmail.org","created_at":"2026-02-19T06:22:24.850682-07:00","created_by":"Jon Stearley","updated_at":"2026-02-26T14:43:54.529829-07:00","labels":["gcp"],"dependencies":[{"issue_id":"geo-bwb","depends_on_id":"geo-8se","type":"waits-for","created_at":"2026-02-19T06:22:24.854047-07:00","created_by":"Jon Stearley","metadata":"{\"gate\":\"all-children\"}"},{"issue_id":"geo-bwb","depends_on_id":"geo-f2s","type":"blocks","created_at":"2026-02-25T11:31:54.60314-07:00","created_by":"Jon Stearley"}]}
{"id":"geo-d83","title":"Train Haar classifier for GCPEditorPro","description":"Collect positive and negative images (with/without GCPs) at various angles and types. Note: Haar is not rotation-invariant.","status":"open","priority":4,"issue_type":"task","owner":"jrstear@fcbhmail.org","created_at":"2026-02-17T19:54:56.559018-07:00","created_by":"Jon Stearley","updated_at":"2026-02-26T14:46:06.897737-07:00","labels":["gcp"]}
{"id":"geo-dbi","title":"Research alternative GCP tagging tools","status":"closed","priority":4,"issue_type":"task","owner":"jrstear@fcbhmail.org","created_at":"2026-02-17T04:23:47.378823-07:00","created_by":"Jon Stearley","updated_at":"2026-02-25T11:32:04.583204-07:00","closed_at":"2026-02-25T11:32:04.583204-07:00","close_reason":"Orange clay pigeon path chosen; alternative tagging tools research deprioritized. See geo-2j8 epic.","labels":["gcp"],"comments":[{"id":1,"issue_id":"geo-dbi","author":"Jon Stearley","text":"Research summary:\n- YOLO (v5/v8): Faster, requires custom training for markers.\n- ResNet/RetinaNet: Higher precision (sub-pixel), high compute.\n- Find-GCP: Classical CV approach using ArUco markers.\n- GCPEditorPro: Uses OpenCV/Checkerboard detection.\nConclusion: Professional tools like Metashape/Pix4D use a hybrid 'Pinhole + Refinement' approach. Standalone open-source versions for general markers are rare.","created_at":"2026-02-17T11:23:56Z"}]}
{"id":"geo-de0","title":"Implement pixel projection for image+GCP pairs (EXIF and reconstruction modes)","description":"In geo/gcp_pipeline.py. Mode A (EXIF): use GimbalPitchDegree/Yaw/Roll + GPS + altitude per docs/dji_m3e_camera_model.md — derive sensor dims from FOV+focal, apply ENU rotation, pinhole project. Mode B (reconstruction.json): load SfM-refined camera poses from opensfm/reconstruction.json. Auto-detect: use Mode B if reconstruction_path provided, else Mode A. One worker per (image, GCP) pair via multiprocessing.Pool. Returns {(image_path, gcp_label): (px, py)}.","status":"closed","priority":1,"issue_type":"task","owner":"jrstear@fcbhmail.org","created_at":"2026-02-25T11:30:42.369937-07:00","created_by":"Jon Stearley","updated_at":"2026-02-25T15:10:01.740406-07:00","closed_at":"2026-02-25T15:10:01.740406-07:00","close_reason":"B2 implemented in gcp_pipeline.py: project_pixel_mode_a() (validated 73.6px mean error) and project_pixel_mode_b() (reconstruction.json, pending validation when ODM output available).","labels":["gcp"],"dependencies":[{"issue_id":"geo-de0","depends_on_id":"geo-2j8.3","type":"blocks","created_at":"2026-02-25T11:31:46.12112-07:00","created_by":"Jon Stearley"}]}
{"id":"geo-f2s","title":"Implement confirmation state tracking with sidecar .confirmed.json","description":"In ~/git/GCPEditorPro/src/app/. (1) Add confirmed:boolean to ImageGcp type in gcps-utils.service.ts, (2) shift-click in images-tagger sets confirmed=true + updates pin color yellow→green, (3) Write/read .confirmed.json sidecar alongside .txt file: {gcpLabel:{filename:true}}. See docs/gcpeditorpro_ui_spec.md.","status":"closed","priority":2,"issue_type":"feature","owner":"jrstear@fcbhmail.org","created_at":"2026-02-25T11:31:07.148957-07:00","created_by":"Jon Stearley","updated_at":"2026-02-25T15:20:59.795834-07:00","closed_at":"2026-02-25T15:20:59.795834-07:00","close_reason":"G3 partial: ImageGcp.confirmed field + SmartimageComponent pinColor @Input() done. Sidecar .confirmed.json write will be completed in G2 (geo-n2j) shift-click handler.","labels":["gcp","gcpeditorpro"],"dependencies":[{"issue_id":"geo-f2s","depends_on_id":"geo-n2j","type":"blocks","created_at":"2026-02-25T11:31:51.953385-07:00","created_by":"Jon Stearley"}]}
{"id":"geo-g6a","title":"Zoom view: unified click-to-pin + hover-to-preview","description":"All image interaction behaviors should be identical between sub-image crops (left column) and the large panel (right):\n- drag-to-pan\n- click-to-position-GCP crosshair\n- shift+mouse-wheel to zoom\n\nThe ONLY difference: hovering over a sub-image loads that image into the large panel at right.\n\nIMPLEMENTATION NOTES:\nCurrently the sub-image crop is a fixed 256x256 canvas with no panzoom. To support drag-to-pan and shift+wheel zoom, sub-images need panzoom too (or be replaced by app-smartimage instances). The large panel already uses app-smartimage with full panzoom support.\n\nOptions to consider:\n1. Replace sub-image canvas with app-smartimage instances in a fixed 256x256 container (autoFit=true, small size) — reuses existing component, gets pan/zoom/click for free.\n2. Add panzoom to the canvas in SubImageCropComponent — more work, keeps canvas drawing.\n\nOption 1 is likely simpler. The crop centering (showing the area around the estimated GCP) would need to be handled by setting the initial pan/zoom to center on pinLocation, which is related to geo-mz0 (auto-zoom to GCP on load).\n\nACCEPTANCE CRITERIA:\n- Drag pans the image in both sub and large windows\n- Shift+wheel zooms in both sub and large windows\n- Click positions the GCP crosshair in both sub and large windows\n- Hovering a sub-image loads it into the large panel (existing behavior, keep)","status":"closed","priority":2,"issue_type":"feature","owner":"jrstear@fcbhmail.org","created_at":"2026-02-26T14:24:29.942161-07:00","created_by":"Jon Stearley","updated_at":"2026-02-26T14:32:02.370887-07:00","closed_at":"2026-02-26T14:32:02.370887-07:00","close_reason":"Won't fix — current behavior (hover-to-load into large panel, click-to-pin in both views) is sufficient. Full panzoom parity (drag-to-pan, shift+wheel) in sub-image crops not pursued."}
{"id":"geo-gkj","title":"Add non-nadir image detection and warning in Mode A projection","description":"gcp_pipeline.py Mode A (project_pixel_mode_a) assumes nadir imagery (camera pointing straight down, pitch ≈ -90°). This is baked into the math — the gimbal_pitch EXIF field is read but never used in the projection.\n\nIf given oblique images (e.g. from a handheld camera, or a drone in non-nadir mission mode), Mode A will silently produce wrong pixel estimates with no warning.\n\nWork to do:\n1. In project_pixel_mode_a(): check gimbal_pitch if available.\n   If abs(gimbal_pitch - (-90.0)) \u003e NADIR_TOLERANCE_DEG (suggest 15°), skip the image\n   and return None with a logged warning, OR add a 'nadir_warn' flag to the return.\n\n2. In _footprint_worker() / match_images_to_gcps(): if pitch is non-nadir,\n   either skip the image or use a conservative fallback radius (footprint shape is\n   wrong for oblique).\n\n3. In run_pipeline(): collect and summarize non-nadir images in a warning message\n   at the end (e.g. '3 images skipped: non-nadir pitch (Mode A only handles nadir)').\n\n4. Mode B (project_pixel_mode_b) is unaffected — it uses the full rotation matrix\n   from reconstruction.json and handles any orientation.\n\n5. Add a --allow-oblique flag to the CLI to suppress the skip behavior if user\n   explicitly wants to try oblique images anyway.\n\nDesign note: NADIR_TOLERANCE_DEG = 15 means any pitch outside [-105°, -75°] is\nflagged. DJI drones in nadir mode typically report -90°.","notes":"gimbal_pitch is read in EXIF batch but never used in projection math. Oblique images produce silently wrong results.","status":"open","priority":1,"issue_type":"task","owner":"jrstear@fcbhmail.org","created_at":"2026-02-26T07:54:59.562532-07:00","created_by":"Jon Stearley","updated_at":"2026-02-26T14:51:42.939405-07:00"}
{"id":"geo-kit","title":"Train GCP classifier using methods A/B/C","notes":"Train a GCP classifier using project imagery and ground truth. See docs/gcp_object_identification.md for the detailed strategy and Stage 1-3 pipeline.\n","status":"open","priority":4,"issue_type":"task","owner":"jrstear@fcbhmail.org","created_at":"2026-02-19T06:35:47.742964-07:00","created_by":"Jon Stearley","updated_at":"2026-02-26T14:46:14.012778-07:00","labels":["gcp"],"dependencies":[{"issue_id":"geo-kit","depends_on_id":"geo-bwb","type":"waits-for","created_at":"2026-02-19T06:35:47.746849-07:00","created_by":"Jon Stearley","metadata":"{\"gate\":\"all-children\"}"}],"comments":[{"id":7,"issue_id":"geo-kit","author":"Jon Stearley","text":"See detailed object identification strategy in .beads/docs/gcp_object_identification.md","created_at":"2026-02-19T16:41:05Z"},{"id":8,"issue_id":"geo-kit","author":"Jon Stearley","text":"Updated documentation path: docs/gcp_object_identification.md","created_at":"2026-02-19T16:44:40Z"}]}
{"id":"geo-mz0","title":"Auto-zoom images to GCP estimate location on load","description":"When an image loads in images-tagger and a GCP pixel estimate exists (pinLocation is set), the view should automatically pan+zoom to show the area around that GCP point. Currently images load showing the full image at 1:1 scale — GCP targets are typically tiny relative to the full image, requiring manual zoom and pan every time.\n\nDESIRED UX:\n- Image loads → immediately zoomed in and centered on the estimated GCP pixel\n- Default zoom level = show ~10 sq meters of ground area (user-configurable setting)\n- A '10 sq meter view' at 3cm GSD (typical drone survey) = ~333x333 pixels shown → tight enough to see the GCP target clearly\n\nIMPLEMENTATION PLAN:\n\n1. PIPELINE CHANGE (gcp_pipeline.py / gcp_estimates.json):\n   Add GSD (ground sample distance, cm/pixel) per image to estimates JSON.\n   GSD can be computed from EXIF data already available in the pipeline:\n     focal_mm, focal35_mm, img_w, img_h, agl (abs_alt - site_ellip_alt_m)\n     GSD_cm = (sensor_width_mm / focal_mm) * agl_m * 100 / img_w\n   Include in estimates JSON per image:\n     { 'px': ..., 'py': ..., 'mode': ..., 'gsd_cm': 3.2 }\n\n2. GCPEDITORPRO CHANGE (smartimage.component.ts):\n   Add @Input() autoZoomSqM: number = 10 (configurable ground area in sq meters)\n   Add @Input() gsdCm: number | null = null (from estimates sidecar)\n   \n   After image loads (img load event) and pinLocation is set:\n   a. If gsdCm is available: compute target pixel extent\n        side_px = sqrt(autoZoomSqM * 10000) / gsdCm   [10000 cm² per m²]\n        scale = img_w / side_px  (approximate zoom level)\n   b. Else (no GSD): fall back to showing ~400px around GCP (reasonable default)\n   c. Call panzoom.zoom(scale) then pan to center pinLocation in the viewport\n      panzoom has zoomToPoint(scale, point) which handles both in one call\n\n3. SETTINGS:\n   Add a configurable 'autoZoomSqM' setting (localStorage persisted) with default 10.\n   Display in images-tagger toolbar or a settings panel.\n   Set to 0 or null to disable auto-zoom (show full image).\n\nNOTES:\n- This applies to both Standard Grid View and Zoom View right panel\n- If no pinLocation (no estimate): do not auto-zoom (show full image)\n- panzoom.zoomToPoint(scale, focalPoint) is the key API call\n  where focalPoint is in container-relative pixel coordinates\n- The 250ms panzoom event debounce for pin placement is unrelated and unchanged\n- GSD fallback (no EXIF data): use 400px default extent\n\nPIPELINE SYNC:\nAfter changing gcp_pipeline.py, sync to webodm/coreplugins/auto_gcp/pipeline.py","notes":"GSD is already computable in the pipeline from EXIF (focal, sensor, agl). Add to estimates JSON. SmartimageComponent reads it and calls panzoom.zoomToPoint() on image load. Default 10 sq meters.","status":"closed","priority":2,"issue_type":"feature","owner":"jrstear@fcbhmail.org","created_at":"2026-02-26T09:12:23.398281-07:00","created_by":"Jon Stearley","updated_at":"2026-02-26T14:36:23.232488-07:00","closed_at":"2026-02-26T14:36:23.232488-07:00","close_reason":"Auto-zoom on load satisfied by _fitToContainer() which fits the image to the panel when autoFit=true. GSD-based zoom level and associated pipeline/JSON/UI changes dropped as unnecessary complexity."}
{"id":"geo-n2j","title":"Implement zoomed sub-image column view in images-tagger","description":"In images-tagger.component.ts/.html. New layout mode: left column of 256x256 crops centered at estimated GCP pixel (Canvas API, load full image once then draw crops), right panel = full image of selected crop with pan+zoom+shift-click. Toggle button Zoom View / Standard View, persisted in localStorage. Sub-image outline: gray=unseen, yellow=estimated, green=confirmed. Default selection: first unconfirmed sub-image. See docs/gcpeditorpro_ui_spec.md.","status":"closed","priority":2,"issue_type":"feature","owner":"jrstear@fcbhmail.org","created_at":"2026-02-25T11:30:54.677165-07:00","created_by":"Jon Stearley","updated_at":"2026-02-25T21:40:45.449536-07:00","closed_at":"2026-02-25T21:40:45.449536-07:00","close_reason":"Implemented: SubImageCropComponent (Canvas 256x256 crops, border colors), Zoom View two-panel layout, image folder picker on load-config-txt, confirmed=true on pin. Build clean, user tested.","labels":["gcp","gcpeditorpro"],"dependencies":[{"issue_id":"geo-n2j","depends_on_id":"geo-1u8","type":"blocks","created_at":"2026-02-25T11:31:51.832148-07:00","created_by":"Jon Stearley"}]}
{"id":"geo-rsz","title":"Zoom view UX fixes: fit-to-panel, hover-to-select, click=set GCP","description":"Follow-up to geo-n2j. Three related zoom view issues found during first use.\n\n1. FIT TO PANEL\nRight panel smartimage shows upper-left corner (natural pixel size overflows panel). Needs zoom-to-fit on load.\n- Add autoFit: boolean = false input to SmartimageComponent\n- Persistent img load event listener (handles src changes + cached images): if autoFit, call _fitToContainer()\n- _fitToContainer(): scale = min(cw/nw, ch/nh); panzoom.zoom(scale, {animate:false}); panzoom.pan((cw-nw*scale)/2, (ch-nh*scale)/2, {animate:false})\n- Pass [autoFit]='true' to right-panel smartimage in images-tagger zoom view only\n\n2. HOVER-TO-SELECT (replaces click-to-select)\nClick in sub-image should set GCP, not select for right panel.\nFix: add (mouseenter)='selectDesc(desc)' on each crop wrapper div in images-tagger.html.\n\n3. CLICK IN SUB-IMAGE = SET GCP\nRename selectCrop output to clickPosition, emit {x,y} in full-image coords.\nIn sub-image-crop onCanvasClick(e): sx = max(0, min(imX-128, naturalWidth-256)); emit { x: sx+e.offsetX, y: sy+e.offsetY }.\nIn images-tagger: add pinFromSubImage(pos, desc) = selectDesc(desc) + pin(pos, desc).\n\nISSUE: Crosshair position inconsistency between sub-image and large panel is likely caused by pin math (getPinLocation) breaking when image overflows container — fixed by fix 1.","notes":"Issues 1 and crosshair inconsistency are coupled. autoFit must be zoom-view-only (standard grid already constrains by overflow:hidden).","status":"closed","priority":2,"issue_type":"feature","owner":"jrstear@fcbhmail.org","created_at":"2026-02-26T09:45:21.480453-07:00","created_by":"Jon Stearley","updated_at":"2026-02-26T14:25:58.519071-07:00","closed_at":"2026-02-26T14:25:58.519071-07:00","close_reason":"Implemented: autoFit input + _fitToContainer (explicit CSS px size so panzoom scale=1=fit), hover-to-select via mouseenter, click-in-sub-image sets GCP via pinFromSubImage. GCP-anchored zoom via zoomToPoint. All committed."}
{"id":"geo-s3s","title":"Show confirmed/total count badge on GCP list page","description":"In gcps-map.component.ts/.html. For each GCP show badge showing c/t where c=confirmed images, t=total images in estimates. Color: red=0 confirmed, yellow=partial, green=all confirmed. Reads from storage.imageGcps confirmed field (requires G3). See docs/gcpeditorpro_ui_spec.md.","status":"open","priority":4,"issue_type":"feature","owner":"jrstear@fcbhmail.org","created_at":"2026-02-25T11:31:07.307378-07:00","created_by":"Jon Stearley","updated_at":"2026-02-26T14:43:57.934594-07:00","labels":["gcp","gcpeditorpro"],"dependencies":[{"issue_id":"geo-s3s","depends_on_id":"geo-f2s","type":"blocks","created_at":"2026-02-25T11:31:52.077272-07:00","created_by":"Jon Stearley"}]}
{"id":"geo-t15","title":"Update gcp.py output format for WebODM","status":"closed","priority":2,"issue_type":"task","owner":"jrstear@fcbhmail.org","created_at":"2026-02-17T03:12:30.700496-07:00","created_by":"Jon Stearley","updated_at":"2026-02-17T04:24:09.806883-07:00","closed_at":"2026-02-17T04:24:09.806883-07:00","close_reason":"Closed"}
{"id":"geo-v2a","title":"Update setup_env.sh with all pipeline dependencies","description":"setup_env.sh currently installs: gdal, flask, tk, pyproj, ezdxf, python=3.10 via conda.\n\nMissing for gcp_pipeline.py:\n- scipy (required for Mode B projection via scipy.spatial.transform.Rotation)\n- numpy (required for Mode B, likely pulled in by scipy but should be explicit)\n\nSystem dependency (cannot be conda-installed):\n- exiftool — called via subprocess by read_image_exif_batch(). Install with:\n  - macOS: brew install exiftool\n  - Ubuntu/Debian: apt-get install libimage-exiftool-perl\n\nAudit needed:\n- flask, tk: likely legacy from old gcp.py GUI code or app.py — verify still needed\n- ezdxf: needed for contour DXF output in gcp.py — verify still needed\n\nTasks:\n1. Audit all scripts in geo/ repo for their actual imports\n2. Add scipy, numpy to conda create command\n3. Add a comment block documenting exiftool as a system dep with install instructions\n4. Remove any packages that are no longer needed (after audit)\n5. Consider adding a verification step at end of script: python -c 'import pyproj, scipy, numpy'\n6. Consider adding exiftool check: command -v exiftool || echo 'WARNING: exiftool not found'\n\nFile: /Users/jrstear/git/geo/setup_env.sh","notes":"gcp_pipeline.py Mode B requires scipy+numpy. exiftool is a system dep that cannot go in conda.","status":"open","priority":3,"issue_type":"task","owner":"jrstear@fcbhmail.org","created_at":"2026-02-26T07:54:26.601045-07:00","created_by":"Jon Stearley","updated_at":"2026-02-26T07:54:26.601045-07:00"}
{"id":"geo-vce","title":"gcp_pipeline.py: output pix4d.txt alongside gcp file","description":"After producing the standard GCP .txt output, also write a pix4d.txt in the same output directory. Columns per Pix4D format: Filename, Label, PixelX, PixelY (tab or comma separated, TBD). One row per image-GCP association. Research exact Pix4D GCP image file format before implementing (column names, delimiter, header line, coordinate order). File should be named pix4d.txt and placed next to the main output file.","status":"in_progress","priority":1,"issue_type":"feature","owner":"jrstear@fcbhmail.org","created_at":"2026-02-26T14:24:33.704162-07:00","created_by":"Jon Stearley","updated_at":"2026-02-26T14:57:52.690338-07:00"}
{"id":"geo-wk7","title":"Add server-side auto-detect to WebODM plugin and results UI in GCPEditorPro","description":"Two parts: (1) WebODM plugin adds /detect endpoint: accepts task_id + classifier_type (haar|cnn|yolo) + crop_size, loads confirmed sub-images from .confirmed.json as positives, runs inference server-side (Python, can use GPU), returns detected pixels per (image,GCP). Heavy compute server-side — Haar remains available in-browser via OpenCV.js as fallback. (2) GCPEditorPro: Detect GCPs button calls WebODM detect endpoint, shows results as yellow estimated pins. Classifier selection dropdown + crop bounds selector.","status":"open","priority":3,"issue_type":"feature","owner":"jrstear@fcbhmail.org","created_at":"2026-02-25T11:31:07.6134-07:00","created_by":"Jon Stearley","updated_at":"2026-02-25T11:31:07.6134-07:00","labels":["gcp","gcpeditorpro","webodm"],"dependencies":[{"issue_id":"geo-wk7","depends_on_id":"geo-f2s","type":"blocks","created_at":"2026-02-25T11:31:53.967942-07:00","created_by":"Jon Stearley"},{"issue_id":"geo-wk7","depends_on_id":"geo-39v","type":"blocks","created_at":"2026-02-25T11:31:54.092433-07:00","created_by":"Jon Stearley"},{"issue_id":"geo-wk7","depends_on_id":"geo-bwb","type":"blocks","created_at":"2026-02-25T11:31:54.219691-07:00","created_by":"Jon Stearley"},{"issue_id":"geo-wk7","depends_on_id":"geo-d83","type":"blocks","created_at":"2026-02-25T11:31:54.344183-07:00","created_by":"Jon Stearley"},{"issue_id":"geo-wk7","depends_on_id":"geo-kit","type":"blocks","created_at":"2026-02-25T11:31:54.468042-07:00","created_by":"Jon Stearley"}]}
{"id":"geo-xkt","title":"Add --auto-find flag for GCP refinement","status":"closed","priority":2,"issue_type":"task","owner":"jrstear@fcbhmail.org","created_at":"2026-02-17T03:12:42.174618-07:00","created_by":"Jon Stearley","updated_at":"2026-02-25T11:32:04.46012-07:00","closed_at":"2026-02-25T11:32:04.46012-07:00","close_reason":"Superseded by geo-1u8/geo-n2j/geo-f2s (G1/G2/G3: GCPEditorPro pre-population + zoom view + confirmation state)","labels":["gcp"],"dependencies":[{"issue_id":"geo-xkt","depends_on_id":"geo-3sd","type":"blocks","created_at":"2026-02-17T03:12:42.175502-07:00","created_by":"Jon Stearley"}]}
{"id":"geo-zn9","title":"Add +/- zoom buttons in full image view","description":"In images-tagger full-image panel (G2). Add [+] and [-] buttons bottom-right (absolute positioned, styled like Google Maps zoom controls). Each click zooms 1.5x centered on current view center. Supplements scroll-wheel zoom which is too touchy at high resolution. See docs/gcpeditorpro_ui_spec.md.","status":"closed","priority":3,"issue_type":"feature","owner":"jrstear@fcbhmail.org","created_at":"2026-02-25T11:31:07.460337-07:00","created_by":"Jon Stearley","updated_at":"2026-02-26T14:32:02.232018-07:00","closed_at":"2026-02-26T14:32:02.232018-07:00","close_reason":"Won't fix — shift+wheel zoom in the large panel is sufficient. Dedicated +/- buttons not needed.","labels":["gcp","gcpeditorpro"],"dependencies":[{"issue_id":"geo-zn9","depends_on_id":"geo-n2j","type":"blocks","created_at":"2026-02-25T11:31:52.199757-07:00","created_by":"Jon Stearley"}]}
